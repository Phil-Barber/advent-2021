import pytest

import solution as s


@pytest.mark.parametrize(
    "chunk, score",
    (
        ("()", 0),
        ("[]", 0),
        ("{}", 0),
        ("<>", 0),
        ("<)", 3),
        ("[}", 1197),
        ("{()()()}", 0),
        ("{()()()}<[]>", 0),
        ("{()()()<[]>]", 57),
        ("{(]()()}", 57),
        ("<([{}])>", 0),
        ("[<>({}){}[([])<>]]", 0),
        ("[<>{}){}([])<>]]", 3),
        ("(((((((((())))))))))", 0),
        ("((((>((((())))))))))", 25137),
        ("(((((((())))))", 0),
    ),
)
def test_chunk_score(chunk, score):
    assert s.chunk_score(chunk) == score


example = [
    "[({(<(())[]>[[{[]{<()<>>",
    "[(()[<>])]({[<{<<[]>>(",
    "{([(<{}[<>[]}>{[]{[(<()>",
    "(((({<>}<{<{<>}{[]{[]{}",
    "[[<[([]))<([[{}[[()]]]",
    "[{[{({}]{}}([{[{{{}}([]",
    "{<[[]]>}<{[{[{[]{()[[[]",
    "[<(<(<(<{}))><([]([]()",
    "<{([([[(<>()){}]>(<<{{",
    "<{([{{}}[<[[[<>{}]]]>[]]",
]


def test_main():
    assert s.main(example) == 26397
